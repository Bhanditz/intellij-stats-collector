<idea-plugin>
  <id>com.intellij.stats.completion</id>
  <name>Completion Stats Collector</name>
  <version>0.0.521</version>
  <vendor email="yaroslav.lepenkin@jetbrains.com" url="http://www.jetbrains.com">JetBrains</vendor>

  <description><![CDATA[
      This plugin collects data about your usage of code completion, anonymises and sends it to us. Note, the plugin doesnâ€™t send any of your personal data or code. All we send is just numbers calculated based on your completion usage patterns
    ]]></description>
  
  <change-notes><![CDATA[
      Initial completion sorting via machine learning 
    ]]>
  </change-notes>
  
  <depends>com.intellij.modules.lang</depends>
  <depends>com.intellij.modules.platform</depends>
  
  <idea-version since-build="171.0"/>

  <extensions defaultExtensionNs="com.intellij">
    
    <applicationService serviceInterface="com.intellij.stats.completion.CompletionLoggerProvider" 
                        serviceImplementation="com.intellij.stats.completion.CompletionFileLoggerProvider">
    </applicationService>
    
    <applicationService serviceInterface="com.intellij.stats.completion.UrlProvider" 
                        serviceImplementation="com.intellij.stats.completion.InternalUrlProvider">
    </applicationService>
    
    <applicationService serviceInterface="com.intellij.stats.completion.FilePathProvider" 
                        serviceImplementation="com.intellij.stats.completion.PluginDirectoryFilePathProvider" 
                        testServiceImplementation="com.intellij.mocks.TestFilePathProvider">
    </applicationService>
    

    <applicationService serviceInterface="com.intellij.stats.completion.StatisticSender"
                        serviceImplementation="com.intellij.stats.completion.StatisticSenderImpl"
                        testServiceImplementation="com.intellij.mocks.TestStatisticSender">
    </applicationService>
    
    <applicationService serviceInterface="com.intellij.stats.completion.experiment.WebServiceStatus"
                        serviceImplementation="com.intellij.stats.completion.experiment.WebServiceStatusProvider">
    </applicationService>

    <applicationService serviceInterface="com.intellij.stats.completion.RequestService"
                        serviceImplementation="com.intellij.stats.completion.SimpleRequestService"
                        testServiceImplementation="com.intellij.mocks.TestRequestService">
    </applicationService>

    <applicationService serviceInterface="com.intellij.stats.completion.experiment.ExperimentDecision"
                        serviceImplementation="com.intellij.stats.completion.experiment.PermanentInstallationIDBasedDecision"
                        testServiceImplementation="com.intellij.mocks.TestExperimentDecision">
    </applicationService>

    <applicationService serviceInterface="com.intellij.sorting.Ranker"
                        serviceImplementation="com.intellij.sorting.MLRanker">
    </applicationService>
    
    <applicationService serviceInterface="com.intellij.stats.completion.InstallationIdProvider"
                        serviceImplementation="com.intellij.stats.completion.PermanentInstallationIdProvider">
    </applicationService>

    <applicationService serviceInterface="com.intellij.codeInsight.completion.CompletionFinalSorter$Factory"
                        serviceImplementation="com.intellij.sorting.MLSorterFactory">
    </applicationService>
    
    <applicationService serviceImplementation="com.intellij.sorting.SortingTimeStatistics"/>
    
    <postStartupActivity implementation="com.intellij.plugin.NotificationManager"/>

    <applicationService serviceInterface="com.intellij.completion.tracker.LookupElementTracking"
                        serviceImplementation="com.intellij.completion.tracker.UserDataLookupElementTracking"/>

    <applicationConfigurable provider="com.intellij.plugin.PluginSettingsConfigurableProvider"/>
    <preloadingActivity implementation="com.intellij.completion.enhancer.FirstContributorPreloader" order="last"/>
  </extensions>

  <actions>
    <action class="com.intellij.plugin.ToggleManualMlSorting" id="ToggleManualMlSorting" internal="true"/>
  </actions>

  <application-components>
    <component>
      <implementation-class>com.intellij.stats.completion.SenderComponent</implementation-class>
    </component>

    <component>
      <implementation-class>com.intellij.stats.completion.CompletionTrackerInitializer</implementation-class>
    </component>

    <component>
      <implementation-class>com.intellij.completion.tracker.ShownTimesTrackerInitializer</implementation-class>
    </component>

    <component>
      <implementation-class>com.intellij.sorting.FeatureTransformerProvider</implementation-class>
    </component>
  </application-components>

</idea-plugin>